"use strict";var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},_createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _defaults={linear:!1,completionCallback:function(){},validationFunction:function(t){if(t.checkValidity)return t.checkValidity()}},Stepper=function(){function i(t,e){_classCallCheck(this,i),this.currentStepNum=0,this.element=t,this.options=_extends({},_defaults,e),this.steps=t.children,t?t.Stepper=this:console.error("An element was not passed to initialize the stepper!")}return _createClass(i,[{key:"initialize",value:function(){for(var n=this,t=this.element.querySelectorAll(".step-circle"),e=0;e<t.length;e++){t[e].textContent=e+1}for(var i=function(t){var e=n.steps[t],i=e.querySelector(".button-step-next");e.setAttribute("data-step",t),i.addEventListener("click",function(){n.nextStep()}),e.children[0].addEventListener("click",function(){var t=Number(e.getAttribute("data-step"));n.goToStep(t)})},s=0;s<this.steps.length;s++)i(s)}},{key:"checkStepValidity",value:function(t){var e=this.element.querySelector("[data-step='"+t+"']"),i=this.options.invalidClass;if(e){for(var n=e.querySelectorAll("[required]"),s=!0,r=0;r<n.length;r++){var a=n[r];this.options.validationFunction(a)||(i&&a.classList.add(i),s=!1)}return s}}},{key:"nextStep",value:function(){var t=this,e=!0;if(this.options.linear&&!0!==this.checkStepValidity(this.currentStepNum)&&(e=!1),e){var i=this.steps[this.currentStepNum],n=this.currentStepNum+1,s=this.steps[n];s?(i.classList.remove("visible"),setTimeout(function(){s.classList.add("visible"),t.currentStepNum=n},500)):this.options.completionCallback&&this.options.completionCallback()}}},{key:"goToStep",value:function(t){var e=this,i=this.steps[this.currentStepNum],n=this.steps[t],s=!0;i!==n&&(this.options.linear&&(t===this.currentStepNum+1?s=this.checkStepValidity(this.currentStepNum):t>this.currentStepNum&&(s=!1)),s&&(i.classList.remove("visible"),setTimeout(function(){n.classList.add("visible"),e.currentStepNum=t},500)))}}]),i}();
